---
layout: post
toc: true
math: false
title: "npm에 대하여"
categories: ["programming"]
tags: [npm, javascript]
author:
  - 이현재
---

<p align="center">
  <img src="/img/2022-02-11-about-npm/npm-logo.svg">
</p>

Node Package Manager, npm은 NodeJS 패키지 매니저로서 패키지 설치, 의존성 관리의 역할을 수행합니다.
<!--more-->
JS 개발자로서 매일 같이 유용하게 쓰고 있음에도 불구하고 npm에 대해 마음을 다잡고 공부해 본 적이 없어서
이 포스트를 쓰게 되었습니다. npm의 기능을 중심으로 훑어가도록 하겠습니다.

# 1. 의존성 관리
npm에서는 패키지의 이름, 작성자, 설명과 의존성 관리 등을 `package.json`을 통해 관리하고 있습니다.
`npm init`을 하면 프로젝트 루트 폴더에 생기는 바로 그 파일인데, 여기에 패키지에 대한 정보를 json 형태로
저장하게 됩니다. `package.json`은 사람 뿐만 아니라 npm에서도 버전 정보를 얻기 위해 사용하기 때문에
지우면 안됩니다.

## 버전 명세
NodeJS 패키지들은 `x.y.z`와 같이 세 개의 숫자로 구성된 버전 형식을 사용하는데, 이를
*Semantic Versioning*이라 합니다. 년-월-일과 같이 세 숫자는 메이저-마이너-패치의 의미를 가지고 있습니다.
왼쪽으로 갈수록 패키지가 많이 다르다는 뜻이죠. 버그 픽스를 반영했으면 `z`를 바꾸고, 기능이 추가되면서
전 버전과 호환되면 `y`를, 전 버전과 호환이 안 되거나 그 만큼의 기능이 바뀌었으면 `x`를 바꿔주는 방법으로
버전을 정하면 됩니다. 

물론 이를 반드시 지키지 않아도 되고 실제로 지키지 않아도 npm에 패키지 업로드는 잘 됩니다만, 이를 지켜주는게
좋습니다. npm에서 의존성 관리를 할 때 의존하고 있는 패키지 버전을 위 규칙을 기반으로 관리하기 때문입니다.

패키지를 설치하고 `package.json`에 들어가면 dependencies 또는 devdependencies에 의존 패키지 이름과
함께 버전이 적혀 있는데 버전만 적혀있는 것이 아니라 `^x.y.z`, `>=x.y.z`와 같이 특수문자를 포함해서
적혀있는 것을 보셨을 겁니다. 사용할 수 있는 특수문자와 그 의미는 아래와 같습니다.

***^***<br>
`^x.y.z`와 같이 쓰며 가장 왼쪽의 0이 아닌 값을 바꾸지 않는 선에서 사용 가능.
예를 들어 `^1.0.0`일 때 `1.0.1`, `1.1.0`으로 업데이트는 가능하지만 `2.0.0`으로는 업데이트 하지 않습니다.
또 `^0.3.0`이면 `0.3.1`과 `0.3.2`는 가능하지만 `0.4.0`은 불가능합니다.

***~***<br>
`~x.y.z`와 같이 쓰며 `z` 버전만 바꾸는 선에서 사용 가능. 예를 들어 `~1.0.0`일 때 `1.0.1`은 가능하지만
`1.1.0`은 불가능합니다.

***>***<br>


## dependencies vs. devdependencies
npm 패키지에서 의존성들은 dependencies와 devdependencies로 관리합니다.

## peerdependencies

## package-lock

# 2. npm Command
`npm <Command>` 명령어로 npm에서 지원하는 명령을 실행할 수 있습니다.
## 기본 Scripts


# 3. npm vs. yarn


# 4. 참조
npm Semantic Version: https://docs.npmjs.com/about-semantic-versioning
NodeJS Semantic Versioning: https://nodejs.dev/learn/semantic-versioning-using-npm
